<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <h2 id="version"></h2>
  <h2 id="userAgent"></h2>
  <script type="text/javascript">
  var BrowserMap = [
    {
      regex: /opr/i,
      matched: 'Opera'
    },
    {
      regex: /compatible/i,
      matched: 'IE'
    },
    {
      regex: /msie/i,
      matched: 'IE'
    },
    {
      regex: /edge/i,
      matched: 'Edge'
    },
    {
      regex: /ucbrowser/i,
      matched: 'UC'
    },
    {
      regex: /firefox/i,
      matched: 'Firefox'
    },
    {
      regex: /qqbrowser/i,
      matched: 'QQbrowser'
    },
    {
      regex: /micromessenger/i,
      matched: 'Wechat'
    },
    {
      regex: /micromessenger/i,
      matched: 'Wechat'
    },
    {
      regex: /chrome/i,
      matched: 'Chrome'
    },
    {
      regex: /safari/i,
      matched: 'Safari'
    },
  ]

  var platforms = [
    {
      regex: /android/,
      matched: 'Android'
    },
    {
      regex: /iphone/,
      matched: 'iphone'
    },
    {
      regex: /ipad/,
      matched: 'ipad'
    }
  ]

  var getBrowserVersion = function(){
    var userAgent = navigator.userAgent.toLowerCase();
    var Browser = "";
    var Version = ""
    var Platform = "";
    for(let i in BrowserMap){
      if(Browser == "" && userAgent.match(BrowserMap[i].regex)){
        Browser = BrowserMap[i].matched;
      }
    }
    for(let i in platforms){
      if( Platform == "" && userAgent.match(platforms[i].regex)){
        Platform = platforms[i].matched;
      }
    }
    switch (Browser) {
      case "IE":
        if (!window.XMLHttpRequest) Version = "6";
        if (!window.document.querySelector) Version = "7";
        if (!window.document.addEventListener) Version = "8";
        if (!window.atob) Version = "9";
        if (!document.createElement ("input").dataset) Version = "10";
        break;
      case "":
        if(!!window.ActiveXObject || "ActiveXObject" in window) 
          Browser = "IE11";
        else
          Browser = "unkonwn";
        break;
    }

    alert(Browser + " " + Version + "" + Platform);

  }


  getBrowserVersion();

//     alert(getExploreName());
    function getExploreName(){
      var userAgent = navigator.userAgent.toLowerCase();
      if(userAgent.match(/opr/i)){ 
        return 'Opera';
      }else if(userAgent.match(/compatible/i) || userAgent.match(/msie/i)){
        if (!window.XMLHttpRequest) return "IE6";
        if (!window.document.querySelector) return "IE7";
        if (!window.document.addEventListener) return "IE8";
        if (!window.atob) return "IE9";
        if (!document.createElement ("input").dataset) return "IE10";
      }else if(userAgent.match(/edge/i)){
        return 'Edge';
      }else if(userAgent.match(/ucbrowser/i)){
        return "UC"
      }else if(userAgent.match(/firefox/i)){
        return 'Firefox';
      }else if(userAgent.match(/qqbrowser/i)){
        return 'QQBrowser';
      }else if(userAgent.match(/micromessenger/i)){
        return 'Wechat';
      }else if(userAgent.match(/safari/i) && !userAgent.match(/chrome/i)){ 
        return 'Safari';
      }else if(userAgent.match(/safari/i) && userAgent.match(/chrome/i)){ 
        return 'Chrome';
      }else if(!!window.ActiveXObject || "ActiveXObject" in window){
        return 'IE11';
      }else{
        return 'Unkonwn';
      }
    }
    window.onload=function(){
      document.getElementById("version").innerHTML = getExploreName();
      document.getElementById("userAgent").innerHTML = navigator.userAgent.toLowerCase()
      console.log(navigator.userAgent.toLowerCase());
    }
    </script>
</body>
</html>
